<!doctype html>
<head>
	<meta charset="utf-8">
	<title>贪吃蛇1</title>
	<style>
	#div1 {
		position:absolute;
		margin:0px;
		width:500px;
		height:500px;
		background-color: #AAAAAA;
		z-index: -1;
	}
	
</style>

</head>
<body>
	<div id="div1">
	</div>
	


	<script>
		function div2()      //创建一个小方块模板
		{
			var div2=document.createElement("div");
			div2.id="div2";
			div2.style.float="left";
			div2.style.margin="0px";
		    div2.style.width="48px";
			div2.style.height="48px";
			div2.style.border="1px solid black";
			return div2;	
		}

		function pai()        //创建10*10方格
		{
			div2=div2();        //小方块
			for(var i=0;i<10;i++)
			{
				for(var j=0;j<10;j++)
				{
					var divm=div2.cloneNode(false);
					div1.appendChild(divm);
				}
			}
			
		}

		function guo()        //随机出现的果子
		{
			var guozi=(Math.ceil(Math.random()*100));
			div1.childNodes[guozi].style.backgroundColor="red";
			return guozi;
		}

		function bian(jian,snake)
		{
			switch(jian)
					{
						case 87: snake=snake-10; div1.childNodes[snake].style.backgroundColor="green"; break;                //W  上
						case 65: snake=snake-1; div1.childNodes[snake].style.backgroundColor="green"; break;              //A  左
						case 83: snake=snake+10; div1.childNodes[snake].style.backgroundColor="green"; break;              //S  下 
						case 68: snake=snake+1; div1.childNodes[snake].style.backgroundColor="green"; break;            //D  右
						default : break;
					}
					return snake;
		}

		function direction(jian)
		{
			snakelist[i]=snake;
			snake=bian(jian,snakelist[i]);
					if(snake==guozi)
					{
						guozi=guo();
						i++;
						snakelist[i]=snake;

					}
					else
					{
						
						div1.childNodes[wei].style.backgroundColor="#AAAAAA";
						wei=snake;
					}

					
		}

		function snaker()
		{
			document.onkeydown=function(event)
			{
				var jian=event.keyCode;
				direction(jian);
			}
		}



		var div1=document.getElementById("div1");
		pai();
		var guozi=guo();
		div1.childNodes[45].style.backgroundColor="green";
		var i=0;
		var snake=45,wei=45;
		var snakelist=new Array();
		var zhiling=new Array();
		snaker();
	</script>



</body>
</html> 
