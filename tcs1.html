<!doctype html>
<head>
	<meta charset="utf-8">
	<title>贪吃蛇1</title>
	<style>
	#div1 {
		position:absolute;
		margin:0px;
		width:500px;
		height:500px;
		background-color: #D0D0D0;
		z-index: -1;
	}
	
</style>

</head>
<body>
	<div id="div1">
	</div>
	


	<script>
		function div2()      //创建一个小方块模板
		{
			var div2=document.createElement("div");
			div2.id="div2";
			div2.style.float="left";
			div2.style.margin="0px";
		    div2.style.width="48px";
			div2.style.height="48px";
			div2.style.border="1px solid black";
			return div2;	
		}

		function pai()        //创建10*10方格
		{
			div2=div2();        //小方块
			for(var i=0;i<10;i++)
			{
				for(var j=0;j<10;j++)
				{
					var divm=div2.cloneNode(false);
					div1.appendChild(divm);
				}
			}
			
		}

		function guo()        //随机出现的果子
		{
			var guozi=(Math.ceil(Math.random()*100));
			div1.childNodes[guozi].style.backgroundColor="red";
			return guozi;
		}

		function bian(jian,snake)
		{
			switch(jian)
					{
						case 87: snake=snake-10; div1.childNodes[snake].style.backgroundColor="green"; break;                //W  上
						case 65: snake=snake-1; div1.childNodes[snake].style.backgroundColor="green"; break;              //A  左
						case 83: snake=snake+10; div1.childNodes[snake].style.backgroundColor="green"; break;              //S  下 
						case 68: snake=snake+1; div1.childNodes[snake].style.backgroundColor="green"; break;            //D  右
						default : break;
					}
					return snake;
		}

		function direction(jian)
		{
		
			snake=bian(jian,snakelist[i]);
			
					if(snake==guozi)
					{
						guozi=guo();
						i=i+1;
						snakelist[i]=snake;
					}
					else
					{	
						div1.childNodes[snakelist[0]].style.backgroundColor="#D0D0D0";
						if(i+1==1)
						{
							snakelist[0]=snake;
						}
						else
						{
							for(var k=0;k<i;k++)
							{
								snakelist[k]=snakelist[k+1];
							}
							snakelist[i]=snake;
						}
					}
				
					
		}

		function snaker()
		{

			document.onkeydown=function(event)
			{
				var jian=event.keyCode;
				if(jian==87 || jian==68 ||  jian==83 || jian==65)
				direction(jian);
			}
		}

		var div1=document.getElementById("div1");
		pai();
		div1.childNodes[45].style.backgroundColor="green";
		var guozi=guo();
		var i=0;
		var snake=45;
		var snakelist=new Array();
		snakelist[0]=snake;
		snaker();
	</script>



</body>
</html> 
